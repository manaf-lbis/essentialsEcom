<html lang="en">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<%- include('../../partials/htmlHeadUser.ejs',{csspath:'/css/userCss/profile/address.css'}) %>
<link rel="stylesheet" href="/css/commonCss/userProfileLeft/userProfileLeftbar.css" />
  
    <body>
        <%- include('../../partials/userNavbar.ejs') %>

        <section class=" container rounded-2 bg-light">
            <ol class="d-flex align-items-center list-unstyled m-0 ">
                <li><a class="text-decoration-none" href="/home">Home /</a></li>
                <li><a class="text-decoration-none" href="/profile" >profile /</a></li>
                <li><a class="text-decoration-none"  >Address Management</a></li>

            </ol>
          </section>

            <section class="container d-flex gap-2">
                <%- include('../../partials/userprofile/profileleftSec.ejs') %>

                    <!-- right Section -->
                    <section id="rightSection">


                        <div id="addressList" class="">
                            <h5>Address Management</h5>
                            <div class="line"></div>

                            <ul id="list" class="list-group border mt-2">



                                <% for(let ele of addressDetails ){ %>
                                    <li class="list-group-item border-dark">

                                        <p>
                                            <%= `${ele.fullName },${ele.houseName },${ele.area},${ele.street
                                                },${ele.pincode } ${ele.defaultAddress ? '(Default)' : ''}` %>
                                        </p>
                                        <div>
                                            <img class="me-2 editBtn" addressId="<%=ele._id%>" src="/assets/images/edit.png" alt="">

                                            <img addressId="<%=ele._id%>" class="deleteBtn"
                                                src="/assets/images/delete1.png" alt="">
                                        </div>

                                    </li>


                                    <% } %>



                            </ul>

                        </div>


                        <button type="button" onclick="clearAllField()" class="btn btn-primary mt-3" data-toggle="modal"
                            data-target="#exampleModalCenter">
                            Add New Address
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLongTitle">Add New Address</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">


                                        <form method="post" action="/addNewAddress" id="addressAddingForm" role="form">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label id="name-label" for="fullName">Full Name</label>
                                                        <input type="text" id="fullName" name="fullName"
                                                            placeholder="Enter your name" class="form-control" >
                                                            <small class="text-danger" id="fullNameErr"></small>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label id="name-label" for="houseName">House Name</label>
                                                        <input type="text" id="houseName" name="houseName"
                                                            placeholder="Enter your name" class="form-control" >
                                                            <small class="text-danger" id="houseNameErr"></small>
                                                    </div>
                                                    <input hidden name="addressId" id="hiddenId"  type="text">
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label id="name-label" for="area">Area</label>
                                                        <input type="text" id="area" name="area"
                                                            placeholder="Enter your name" class="form-control" >
                                                            <small class="text-danger"  id="areaErr"></small>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label id="email-label" for="street">Street</label>
                                                        <input type="text" id="street" name="street"
                                                            placeholder="Enter your email" class="form-control">
                                                            <small class="text-danger" id="streetErr"></small>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label id="email-label" for="city">City</label>
                                                        <input type="text" id="city" name="city"
                                                            placeholder="City" class="form-control">
                                                        <small class="text-danger" id="cityErr"></small>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>State</label>
                                                        <select id="state" name="state" class="form-control">
                                                            <option disabled selected value>Select</option>
                                                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                                            <option value="Assam">Assam</option>
                                                            <option value="Bihar">Bihar</option>
                                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                                            <option value="Goa">Goa</option>
                                                            <option value="Gujarat">Gujarat</option>
                                                            <option value="Haryana">Haryana</option>
                                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                                            <option value="Jharkhand">Jharkhand</option>
                                                            <option value="Karnataka">Karnataka</option>
                                                            <option value="Kerala">Kerala</option>
                                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                                            <option value="Maharashtra">Maharashtra</option>
                                                            <option value="Manipur">Manipur</option>
                                                            <option value="Meghalaya">Meghalaya</option>
                                                            <option value="Mizoram">Mizoram</option>
                                                            <option value="Nagaland">Nagaland</option>
                                                            <option value="Odisha">Odisha</option>
                                                            <option value="Punjab">Punjab</option>
                                                            <option value="Rajasthan">Rajasthan</option>
                                                            <option value="Sikkim">Sikkim</option>
                                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                                            <option value="Telangana">Telangana</option>
                                                            <option value="Tripura">Tripura</option>
                                                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                                                            <option value="Uttarakhand">Uttarakhand</option>
                                                            <option value="West Bengal">West Bengal</option>
                                                            <option value="Andaman and Nicobar Islands">Andaman and
                                                                Nicobar Islands</option>
                                                            <option value="Chandigarh">Chandigarh</option>
                                                            <option value="Dadra and Nagar Haveli and Daman and Diu">
                                                                Dadra and Nagar Haveli and Daman and Diu</option>
                                                            <option value="Lakshadweep">Lakshadweep</option>
                                                            <option value="Delhi">Delhi</option>
                                                            <option value="Puducherry">Puducherry</option>

                                                        </select>
                                                        <small class="text-danger" id="stateErr"></small>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label id="name-label" for="pincode">Picode</label>
                                                        <input type="number" min="100000" max="999999" id="pincode" name="pincode"
                                                            placeholder="Area Pincode" class="form-control" >
                                                            <small class="text-danger" id="pincodeErr"></small>
                                                    </div>
                                                   <input name="defaultAddress" id="defaultAddress" value="true" type="checkbox"><label for="defaultAddress" > Set as default Address</label> 
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label id="email-label" for="phone">Phone</label>
                                                        <input type="text" name="phone" id="phone"
                                                            placeholder="Enter your phone No" class="form-control">
                                                            <small class="text-danger" id="phoneErr"></small>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Close</button>
                                        <button type="submit" id="newAddressSubmit" class="btn btn-primary">Add Address</button>
                                    </div>
                                </form>
                                </div>
                            </div>
                        </div>

                    </section>
            </section>

            <%- include('../../partials/userFooter.ejs') %>
                <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

                <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                <script src="/js/userjs/profileSection/addressManagement.js"></script>

    </body>

</html>